<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elektronik Sınav Uygulaması</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link rel="icon" type="image/svg+xml" href="icon.svg">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#002f55">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="icon.svg">
</head>
<body>

    <div id="main-header-wrapper">
        <div class="header-avatar-section">
            <svg class="avatar-img" viewBox="0 0 24 24">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
            </svg>
        </div>
        
        <div class="header-content-col">
            <div class="top-blue-bar">
                <div class="app-title">Elektronik Sınav Uygulaması</div>
                <button class="btn-settings" onclick="toggleSettings()" data-key="settings">Ayarlar</button>
            </div>
            
            <div class="bottom-white-bar">
                <div class="user-info-group">
                    <div class="user-id-text"></div>
                    <div class="user-name-text">Misafir Aday</div>
                </div>
                
                <div class="header-actions-group">
                    <div class="action-item" onclick="openModal('modal-status')">
                        <svg class="action-icon" viewBox="0 0 24 24"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg>
                        <span data-key="status">Anlık Durum</span>
                    </div>
                    <div class="action-item" id="btn-toggle-notes" onclick="toggleNoteMode()">
                        <svg class="action-icon" viewBox="0 0 24 24"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/></svg>
                        <span>Notlar</span>
                    </div>
                    <div class="action-item" onclick="openReviewModal()">
                        <svg class="action-icon" viewBox="0 0 24 24"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
                        <span data-key="review">Gözden Geçir</span>
                    </div>
                    <div class="action-item" id="action-finish" onclick="openModal('modal-finish')">
                        <svg class="action-icon" viewBox="0 0 24 24"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>
                        <span data-key="finish">Sınavı Sonlandır</span>
                    </div>                    
                </div>

                <div class="timer-group">
                    <div id="timer-wrapper" style="display: flex; align-items: center; gap: 10px;">
                        <span class="timer-text" data-key="timeLeft">Kalan Süre:</span>
                        <span class="timer-val" id="header-timer">180:00</span>
                        <span class="timer-text" style="margin-left:5px;" data-key="time">Saat:</span>
                        <span class="timer-val" id="header-clock">00:00:00</span>
                    </div>
                    
                    <button class="btn-eye" onclick="toggleTimerVis()">
                        <svg style="width:20px; height:20px; fill:#333;" viewBox="0 0 24 24"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <div id="note-toolbar" class="note-toolbar hidden">
        <div class="nt-group">
            <button class="nt-btn active" id="nt-pen" onclick="setNoteTool('pen')" title="Kalem">
                <svg viewBox="0 0 24 24"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/></svg>
            </button>
            <button class="nt-btn" id="nt-text" onclick="setNoteTool('text')" title="Metin Ekle">
                <svg viewBox="0 0 24 24"><path d="M5 4v3h5.5v12h3V7H19V4z"/></svg>
            </button>
            <button class="nt-btn" id="nt-eraser" onclick="setNoteTool('eraser')" title="Silgi">
                <svg viewBox="0 0 24 24"><path d="M15.14 3c-.51 0-1.02.2-1.41.59L2.59 14.73c-.78.78-.78 2.05 0 2.83L5.17 20.16c.78.78 2.05.78 2.83 0l11.14-11.14c.79-.78.79-2.05 0-2.83l-2.58-2.58c-.39-.4-1.41-.61-1.42-.61zM17 10.79l-4.79-4.79 1-1L18 9.79l-1 1zm-2 2L10.21 8 6 12.21l4.79 4.79L15 12.79z"/></svg>
            </button>
        </div>
        
        <div class="nt-sep"></div>

        <div class="nt-group">
            <button class="nt-btn" onclick="undoLastAction()" title="Geri Al">
                <svg viewBox="0 0 24 24"><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"/></svg>
            </button>
            <button class="nt-btn" onclick="redoLastAction()" title="İleri Al">
                <svg viewBox="0 0 24 24"><path d="M18.4 10.6C16.55 9 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"/></svg>
            </button>
        </div>

        <div class="nt-sep"></div>

        <div class="nt-group" style="display:flex; align-items:center; gap:5px;">
            <svg style="width:16px; height:16px; fill:#555;" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"/></svg>
            <input type="range" min="1" max="30" value="3" class="nt-slider" oninput="setNoteSize(this.value)" title="Kalem/Silgi Boyutu">
            <svg style="width:24px; height:24px; fill:#555;" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"/></svg>
        </div>

        <div class="nt-sep"></div>

        <div class="nt-group">
            <div class="nt-color selected" style="background: #dc3545;" onclick="setNoteColor('#dc3545', this)"></div>
            <div class="nt-color" style="background: #007bff;" onclick="setNoteColor('#007bff', this)"></div>
            <div class="nt-color" style="background: #28a745;" onclick="setNoteColor('#28a745', this)"></div>
            <div class="nt-color" style="background: #333333;" onclick="setNoteColor('#333333', this)"></div>
            <div class="nt-color" style="background: #6f42c1;" onclick="setNoteColor('#6f42c1', this)"></div>
            <div class="nt-color" style="background: #795548;" onclick="setNoteColor('#795548', this)"></div>
            <div class="nt-color white-btn" style="background: #ffffff;" onclick="setNoteColor('#ffffff', this)"></div>
        </div>

        <div class="nt-sep"></div>
        <button class="nt-btn-text" onclick="clearCurrentNotes()">TEMİZLE</button>
        <button class="nt-btn-close" onclick="toggleNoteMode()">✖</button>
    </div>

    <div id="view-login">
        <div class="login-hero">
            <h1 data-key="appTitle">Elektronik Sınav Uygulaması</h1>
            <h2 data-key="loginSubtitle">Geçmiş Sınavlar ve Deneme Sınavları</h2>
        </div>
        
        <div class="login-card-container">
            <div style="display: flex; flex-direction: column; align-items: center;">
                
                <div class="login-card">
                    
                    <label class="test-select-label" data-key="selectTestType">Sınav türü seçiniz</label>

                    <div class="test-dropdown-wrapper">
                        <div class="test-btn-trigger" onclick="toggleTestMenu()">
                            <span id="test-display-text" data-key="test1Main">1. Deneme Sınavı</span>
                            <svg style="width:12px; height:12px; fill:#333;" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                        </div>

                        <div class="test-custom-menu" id="test-custom-menu">
                            <div class="test-custom-option selected" onclick="location.href='deneme1.html'">
                                <span data-key="test1Main" style="font-weight:bold;">1. Deneme Sınavı</span>
                                <div style="font-size:0.8rem; color:#666;" data-key="testOptionSub">Sınava giriş yapmak için seçiniz</div>
                            </div>
                            <div class="test-custom-option" onclick="location.href='deneme2.html'">
                                <span data-key="test2Main" style="font-weight:bold;">2. Deneme Sınavı</span>
                                <div style="font-size:0.8rem; color:#666;" data-key="testOptionSub">Sınava giriş yapmak için seçiniz</div>
                            </div>
                            <div class="test-custom-option" onclick="location.href='deneme3.html'">
                                <span data-key="test3Main" style="font-weight:bold;">3. Deneme Sınavı</span>
                                <div style="font-size:0.8rem; color:#666;" data-key="testOptionSub">Sınava giriş yapmak için seçiniz</div>
                            </div>
                        </div>
                    </div>

                    <label class="form-label" data-key="enterIdLabel">T.C. Kimlik veya Y.U. numarası giriniz</label>
                    <input type="text" id="tc-input" class="form-control" value="" maxlength="11" onfocus="showKeyboard(this)">
                    
                    <label class="form-label" data-key="enterCaptchaLabel">Resimdeki kodu giriniz</label>
                    <div class="captcha-container">
                        <button class="captcha-btn" onclick="refreshCaptcha()">
                            <svg class="icon-sm" viewBox="0 0 24 24"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg>
                        </button>
                        <button class="captcha-btn" onclick="playCaptchaSound()">
                            <svg class="icon-sm" viewBox="0 0 24 24"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg>
                        </button>
                        <div class="captcha-display" id="captcha-display">nfkb2</div>
                        <input type="text" id="captcha-input" class="form-control" style="width: 80px; margin-bottom:0;" value="">
                    </div>
                    
                    <button class="btn-login" onclick="validateLogin()" data-key="startExamBtn">Sınava Başla</button>
                </div>

                <div class="lang-wrapper-relative">
                    <div class="lang-btn-trigger" onclick="toggleLocalLangMenu()">
                        <span id="lang-display-text">TR: Türkçe</span>
                        <svg style="width:12px; height:12px; fill:#333;" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
                    </div>
                    <div class="lang-custom-menu" id="lang-custom-menu">
                        <div class="lang-custom-option selected" onclick="selectLocalLang('tr', 'TR: Türkçe', this)">TR: Türkçe</div>
                        <div class="lang-custom-option" onclick="selectLocalLang('en', 'EN: English', this)">EN: English</div>
                        <div class="lang-custom-option" onclick="selectLocalLang('de', 'DE: Deutsch', this)">DE: Deutsch</div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div id="view-instructions">
        <div class="inst-container">
            <div class="alert-yellow">
                <span data-key="tutModeInfo">Dilerseniz tutorial modda sınavı hemen başlatabilirsiniz. Gerçek sınavda otomatik olarak başlayacaktır.</span>
                <button class="btn-tut-start" onclick="startExam()" data-key="startNowBtn">Hemen Başlat</button>
            </div>
            
            <div class="alert-green">
                <svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
                <div style="font-weight:600; line-height:1.4;" data-key="loginSuccessMsg">Sisteme başarıyla giriş yaptınız. Sınav otomatik olarak başlayacaktır. Beklerken aşağıdaki bilgilendirmeleri mutlaka okuyunuz. Sınav başlayana kadar Kullanım Kılavuzunu inceleyebilirsiniz.</div>
            </div>

            <ul class="inst-list">
                <li data-key="instItem1">Toplam sınav süreniz <strong>180 dk</strong>dır. Sınavdan çıkabileceğiniz süre dolmadan sınavınızı sonlandırırsanız dahi salondan ayrılamazsınız.</li>
                <li data-key="instItem2">Eğer sınav sırasında sınava devam etmenizi engelleyecek bir durumla karşılaşırsanız (ekran donması, mouse çalışmaması, soruların işaretlenememesi vb.) el kaldırarak salondaki görevlilerden yardım isteyiniz.</li>
                <li data-key="instItem3">Sınav başladıktan sonra <strong>3 mola</strong> alma hakkınız bulunmaktadır. Sıranız geldiğinde ekranda size bilgi verilecektir. Her bir mola süresi en fazla 5 dakika ile sınırlıdır. Mola sürenizin kendi sınav sürenizden gittiğini unutmayın.</li>
                <li data-key="instItem4">Bu sınavda her soru için çoktan seçmeli 5 seçenek bulunmaktadır. Her sorunun yalnızca bir doğru cevabı vardır.</li>
            </ul>

            <table class="inst-table">
                <thead>
                    <tr><th style="width: 50%;">Test</th><th data-key="totalQ">Toplam soru sayısı</th></tr>
                </thead>
                <tbody>
                    <tr><td data-key="englishLang">İNGİLİZCE</td><td>80</td></tr>
                </tbody>
            </table>
        </div>
    </div>

    <div id="view-exam">
        <div class="exam-area">
            <div class="nav-float" id="btn-prev" onclick="prevQuestion()">
                <div class="nav-circle">
                    <svg class="icon" style="width:32px; height:32px; fill:var(--header-bg);" viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
                </div>
                <div class="nav-text" data-key="prevQ">Önceki<br>soru</div>
            </div>

            <div class="q-card" id="q-card">
                </div>

            <div class="nav-float" id="btn-next" onclick="nextQuestion()">
                <div class="nav-circle">
                    <svg class="icon" style="width:32px; height:32px; fill:var(--header-bg);" viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
                </div>
                <div class="nav-text" data-key="nextQ">Sonraki<br>soru</div>
            </div>
        </div>
    </div>
   
    <div id="view-results" style="display: none;">
        <div class="res-container">
            <div class="res-header-msg">
                Sınav Tamamlanmıştır. Geçmiş olsun.
            </div>

            <div class="res-summ-box">
                <div class="res-summ-title">Genel Sınav Sonucunuz</div>
                <table class="res-summ-table">
                    <thead>
                        <tr>
                            <th style="text-align:left;">Test Adı</th>
                            <th>Toplam</th>
                            <th>Doğru</th>
                            <th>Yanlış</th>
                            <th>Boş</th>
                            <th>Puan</th>
                            <th>İşlem</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="text-align:left; font-weight:bold;">İNGİLİZCE</td>
                            <td class="res-num" id="res-total">80</td>
                            <td class="res-num" id="res-correct" style="color:var(--green-btn);">0</td>
                            <td class="res-num" id="res-wrong" style="color:var(--red-btn);">0</td>
                            <td class="res-num" id="res-empty">80</td>
                            <td class="res-num" id="res-score" style="color:var(--blue-link);">0.00</td>
                            <td>
                                <button class="btn-res-review" onclick="startReview()">Soruları ve Çözümleri İncele</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="res-summ-box" style="margin-top: 30px;">
                <div class="res-summ-title">Cevap Anahtarı ve Yanıtlarınız</div>
                <div class="res-detail-table-wrap">
                    <table class="res-detail-table">
                        <thead>
                            <tr>
                                <th>Soru No</th>
                                <th>Yanıtınız</th>
                                <th>Doğru Cevap</th>
                                <th>Durum</th>
                            </tr>
                        </thead>
                        <tbody id="res-detail-body">
                            </tbody>
                    </table>
                </div>
            </div>
            
            <button class="btn-login" style="background:#6c757d; margin-top:20px;" onclick="exitReview()">ÇIKIŞ YAP</button>
            <button class="btn-login" style="background:#28a745; flex:1;" onclick="downloadPDF()">
                <svg style="width:16px; height:16px; fill:white; margin-right:5px; vertical-align:middle;" viewBox="0 0 24 24">
                    <path d="M20 2H8c-1.1 0-2 .9-2 2v12H20V2zm0 14H8v2h12v-2zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm12 6V9c0-.55-.45-1-1-1h-2v2h2v1h-2v2h2v1h-2v-6h3z"/>
                </svg>
                <span data-key="downloadResults">SONUÇLARI İNDİR</span>
            </button>
        </div>
    </div>

    <div class="modal-backdrop" id="modal-status">
        <div class="modal-window">
            <div class="modal-top">
                <div class="modal-h-title" data-key="status">ANLIK DURUM</div>
                <button class="btn-close-red" onclick="closeModal('modal-status')" data-key="close">KAPAT</button>
            </div>
            <div class="modal-body">
                <div class="status-header" data-key="testInfo">Test Bilgileri</div>
                <table class="tbl-status">
                    <thead><tr><th data-key="testName">Test Adı</th><th data-key="totalQ">Toplam soru sayısı</th><th data-key="answeredQ">Cevaplanmış S. Sayısı</th><th data-key="remQ">Kalan Soru Sayısı</th></tr></thead>
                    <tbody><tr><td>İNGİLİZCE</td><td>80</td><td id="stat-ans">0</td><td id="stat-rem">80</td></tr></tbody>
                </table>
                <div class="status-header" data-key="timeInfo">Anlık Süre Bilgileri</div>
                <table class="tbl-status">
                    <thead><tr><th data-key="startTime">Başlama saati</th><th data-key="endTime">Bitiş saati</th><th data-key="duration">Sınav süresi</th></tr></thead>
                    <tbody><tr><td id="stat-start">--:--</td><td id="stat-end">--:--</td><td>180 dk</td></tr></tbody>
                </table>
                 <table class="tbl-status">
                    <thead><tr><th data-key="elapsed">Geçen süre</th><th data-key="timeLeft">Kalan süre</th><th data-key="avgTime">Soru başına ortalama süre</th></tr></thead>
                    <tbody><tr><td id="stat-elapsed">0 sn</td><td id="stat-left">180 dk</td><td id="stat-avg">0 dk</td></tr></tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="modal-backdrop" id="modal-review">
        <div class="modal-window">
            <div class="modal-top">
                <div class="modal-h-title" data-key="review">GÖZDEN GEÇİR</div>
                
                <div style="margin-left: auto; display: flex; gap: 10px;">
                    <button id="btn-back-results" class="btn-blue-header hidden" onclick="backToResults()" data-key="backToResults">Sonuçlara Dön</button>
                    <button class="btn-close-red" onclick="closeModal('modal-review')" data-key="close">KAPAT</button>
                </div>
                </div>
            <div class="modal-body">
                <div style="margin-bottom:15px; font-weight:600;" data-key="selectTest">Test Seçiniz</div>
                <select style="width:100%; padding:8px; border:1px solid #ced4da; border-radius:4px; margin-bottom:20px;">
                    <option>İNGİLİZCE</option>
                </select>
                
                <div class="rev-controls">
                    <button class="rev-btn active" onclick="filterReview('all', this)" data-key="allQ">Tüm Sorular</button>
                    <button class="rev-btn" onclick="filterReview('answered', this)" data-key="answered">● Cevapladıklarım</button>
                    <button class="rev-btn" onclick="filterReview('marked', this)" data-key="marked">⚑ İşaretlediklerim</button>
                    <button class="rev-btn" onclick="filterReview('empty', this)" data-key="empty">○ Boş Bıraktıklarım</button>
                </div>
                
                <div class="rev-grid" id="rev-grid-container">
                    </div>
            </div>
        </div>
    </div>

    <div class="modal-backdrop" id="modal-finish">
        <div class="modal-window" style="max-width: 600px;">
            <div class="modal-top">
                <div class="modal-h-title" data-key="finish">SINAVI SONLANDIR</div>
                <button class="btn-close-red" onclick="closeModal('modal-finish')" data-key="close">KAPAT</button>
            </div>
            <div class="modal-body">
                <div class="finish-warning">
                    <svg class="icon" style="fill:#721c24; min-width:24px;" viewBox="0 0 24 24"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg>
                    <div style="font-size:0.9rem; line-height:1.4;" data-key="finishWarning">Sınavı bitirdiğinizde aşağıdaki kutucuğa T.C. kimlik numarası veya Y.U. numarası girerek sınavı sonlandırabilirsiniz.<br><br>Sınav sonlandırdıktan sonra tekrar sınava devam edemezsiniz. Sınavı sonlandırırsanız dahi sınavdan çıkabileceğiniz süre dolmadan salondan ayrılamazsınız.</div>
                </div>
                
                <div class="finish-box">
                    <span class="finish-label" data-key="finish">Sınavı Sonlandır</span>
                    <p style="margin-bottom:15px; font-size:0.9rem;" data-key="finishPrompt">Sınavı tamamlamak için T.C. Kimlik No veya YU numarasını girip onaylayınız.</p>
                    <div style="display:flex; gap:10px;">
                        <input type="text" id="finish-tc-input" class="form-control" style="margin:0;" placeholder="T.C. Kimlik veya Y.U. numarası giriniz" onfocus="showKeyboard(this)">
                        <button class="btn-login" style="width:auto; background:#17a2b8;" onclick="verifyAndFinishExam()" data-key="confirm">ONAYLA</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="settings-panel" id="settings-panel">
        <div class="st-header">
            <div class="st-title" data-key="settings">AYARLAR</div>
            <button class="btn-close-red" onclick="toggleSettings()" data-key="close">KAPAT</button>
        </div>
        
        <div class="st-group">
            <label class="st-label" data-key="changeLang">Uygulama dilini değiştir.</label>
            <div class="lang-opt selected" onclick="changeLang('tr', this)">TÜRKÇE</div>
            <div class="lang-opt" onclick="changeLang('en', this)">ENGLISH</div>
            <div class="lang-opt" onclick="changeLang('de', this)">DEUTSCH</div>
        </div>
        
        <div class="st-group">
            <label class="st-label" data-key="changeFont">Yazı büyüklüğünü değiştir</label>
            <div class="font-resize">
                <button class="font-btn" onclick="resizeFont(-1)">-</button>
                <div class="font-val" id="font-disp">16</div>
                <div style="display:flex; align-items:center; padding-right:10px; font-weight:bold; color:var(--blue-link);">px</div>
                <button class="font-btn" onclick="resizeFont(1)">+</button>
            </div>
        </div>

        <div class="st-group">
            <label class="st-label" data-key="changeMode">Görünüm modunu değiştir</label>
             <div class="lang-opt" style="border: 2px solid var(--green-btn); background:white;" data-key="lightMode" onclick="changeMode('light')">Aydınlık Mod</div>
             <div class="lang-opt" style="background:#212529; color:white;" data-key="darkMode" onclick="changeMode('dark')">Karanlık Mod</div>
        </div>
    </div>
    <div id="virtual-keyboard">
        <div class="vk-row">
            <button class="vk-btn" onclick="vkType('1')">1</button>
            <button class="vk-btn" onclick="vkType('2')">2</button>
            <button class="vk-btn" onclick="vkType('3')">3</button>
        </div>
        <div class="vk-row">
            <button class="vk-btn" onclick="vkType('4')">4</button>
            <button class="vk-btn" onclick="vkType('5')">5</button>
            <button class="vk-btn" onclick="vkType('6')">6</button>
        </div>
        <div class="vk-row">
            <button class="vk-btn" onclick="vkType('7')">7</button>
            <button class="vk-btn" onclick="vkType('8')">8</button>
            <button class="vk-btn" onclick="vkType('9')">9</button>
        </div>
        <div class="vk-row">
            <button class="vk-btn" onclick="vkType('0')">0</button>
            <button class="vk-btn vk-act" onclick="vkClear()">Temizle</button>
        </div>
        <div class="vk-row">
            <button class="vk-btn vk-act" onclick="vkBack()">Sil</button>
            <button class="vk-btn vk-ok" onclick="hideKeyboard()">Tamam</button>
        </div>
    </div>
    
    <script>
        document.addEventListener("contextmenu", function(event){
        event.preventDefault();
        });
        
        document.onkeydown = function(e) {
            if (
                (e.ctrlKey && e.keyCode === 85) || // Ctrl + U
                (e.ctrlKey && e.shiftKey && e.keyCode === 73) || // Ctrl + Shift + I
                (e.ctrlKey && e.shiftKey && e.keyCode === 74) || // Ctrl + Shift + J
                (e.keyCode === 123) // F12
            ) {
                e.preventDefault(); // Crucial: This stops the browser's default action
                return false;
            }
        }
    </script>
    

    <script src="questions.js"></script>
    <script src="translations.js"></script>
    <script src="script.js"></script>
    <script>
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
        navigator.serviceWorker.register('./sw.js')
            .then(() => console.log('Service Worker Registered'))
            .catch((err) => console.log('SW Failed:', err));
        });
    }
    </script>
</body>


</html>
